{"ast":null,"code":"var _jsxFileName = \"E:\\\\kurs\\\\SpecSavers\\\\frontend\\\\src\\\\components\\\\DeviceCartButton.js\",\n  _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeviceCartButton = ({\n  id\n}) => {\n  _s();\n  // Блок кнопки добавления/удаления устройства из корзины\n  const cookie = new Cookies();\n  let added = `${cookie.get('added')}`.split(',');\n  let isAdded = added.includes(id);\n  const [addedStatus, setAddedStatus] = useState(isAdded);\n\n  // Функция удаления устройства из корзины\n  const removeFromCard = useCallback(() => {\n    let added = `${cookie.get('added')}`.split(',');\n    added.splice(added.indexOf(id), 1);\n    cookie.set('added', added.join(','));\n    setAddedStatus(false);\n  }, [cookie, id, setAddedStatus]);\n\n  // Функция добавления устройства в корзину\n  const addToCard = useCallback(() => {\n    let added = cookie.get('added');\n    cookie.set('added', added == '' ? id : [added, id].join(','));\n    setAddedStatus(true);\n  }, [cookie, id, setAddedStatus]);\n  if (isAdded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: removeFromCard,\n      className: \"catalog-device-button added\",\n      children: \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: addToCard,\n      className: \"catalog-device-button\",\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(DeviceCartButton, \"CbDx5z4gFpUFMISpiRWAK+UnySs=\");\n_c = DeviceCartButton;\nexport default DeviceCartButton;\nvar _c;\n$RefreshReg$(_c, \"DeviceCartButton\");","map":{"version":3,"names":["useState","useCallback","Cookies","jsxDEV","_jsxDEV","DeviceCartButton","id","_s","cookie","added","get","split","isAdded","includes","addedStatus","setAddedStatus","removeFromCard","splice","indexOf","set","join","addToCard","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/kurs/SpecSavers/frontend/src/components/DeviceCartButton.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst DeviceCartButton = ({id}) => {\r\n    // Блок кнопки добавления/удаления устройства из корзины\r\n    const cookie = new Cookies();\r\n    let added = `${cookie.get('added')}`.split(',');\r\n    let isAdded = added.includes(id);\r\n\r\n    const [addedStatus, setAddedStatus] = useState(isAdded);\r\n\r\n    // Функция удаления устройства из корзины\r\n    const removeFromCard = useCallback(() => {\r\n        let added = `${cookie.get('added')}`.split(',');\r\n        added.splice(added.indexOf(id), 1);\r\n        cookie.set('added', added.join(','));\r\n        setAddedStatus(false);\r\n    }, [cookie, id, setAddedStatus])\r\n\r\n    // Функция добавления устройства в корзину\r\n    const addToCard = useCallback(() => {\r\n        let added = cookie.get('added');\r\n        cookie.set('added', added == '' ? id : [added, id].join(','));\r\n        setAddedStatus(true);\r\n    }, [cookie, id, setAddedStatus])\r\n\r\n    if(isAdded) {\r\n        return (\r\n            <div onClick={removeFromCard} className='catalog-device-button added'>Убрать из корзины</div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div onClick={addToCard} className='catalog-device-button'>Добавить в корзину</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DeviceCartButton;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,OAAOC,OAAO,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,gBAAgB,GAAGA,CAAC;EAACC;AAAE,CAAC,KAAK;EAAAC,EAAA;EAC/B;EACA,MAAMC,MAAM,GAAG,IAAIN,OAAO,CAAC,CAAC;EAC5B,IAAIO,KAAK,GAAI,GAAED,MAAM,CAACE,GAAG,CAAC,OAAO,CAAE,EAAC,CAACC,KAAK,CAAC,GAAG,CAAC;EAC/C,IAAIC,OAAO,GAAGH,KAAK,CAACI,QAAQ,CAACP,EAAE,CAAC;EAEhC,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAACY,OAAO,CAAC;;EAEvD;EACA,MAAMI,cAAc,GAAGf,WAAW,CAAC,MAAM;IACrC,IAAIQ,KAAK,GAAI,GAAED,MAAM,CAACE,GAAG,CAAC,OAAO,CAAE,EAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IAC/CF,KAAK,CAACQ,MAAM,CAACR,KAAK,CAACS,OAAO,CAACZ,EAAE,CAAC,EAAE,CAAC,CAAC;IAClCE,MAAM,CAACW,GAAG,CAAC,OAAO,EAAEV,KAAK,CAACW,IAAI,CAAC,GAAG,CAAC,CAAC;IACpCL,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC,EAAE,CAACP,MAAM,EAAEF,EAAE,EAAES,cAAc,CAAC,CAAC;;EAEhC;EACA,MAAMM,SAAS,GAAGpB,WAAW,CAAC,MAAM;IAChC,IAAIQ,KAAK,GAAGD,MAAM,CAACE,GAAG,CAAC,OAAO,CAAC;IAC/BF,MAAM,CAACW,GAAG,CAAC,OAAO,EAAEV,KAAK,IAAI,EAAE,GAAGH,EAAE,GAAG,CAACG,KAAK,EAAEH,EAAE,CAAC,CAACc,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7DL,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC,EAAE,CAACP,MAAM,EAAEF,EAAE,EAAES,cAAc,CAAC,CAAC;EAEhC,IAAGH,OAAO,EAAE;IACR,oBACIR,OAAA;MAAKkB,OAAO,EAAEN,cAAe;MAACO,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EAAC;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAErG,CAAC,MAAM;IACH,oBACIxB,OAAA;MAAKkB,OAAO,EAAED,SAAU;MAACE,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAE3F;AACJ,CAAC;AAAArB,EAAA,CAhCKF,gBAAgB;AAAAwB,EAAA,GAAhBxB,gBAAgB;AAkCtB,eAAeA,gBAAgB;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}